<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{{ page.title }}</title>
  <meta name="description" content="{{ site.description }}">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/assets/style.css">
</head>
<script>
function toggleMenu() {
  const menu = document.getElementById("top-menu");
  if (menu.style.display === "block") {
    menu.style.display = "none";
  } else {
    menu.style.display = "block";
  }
}
</script>

<body>
  <header>
    <h1>{{ page.title }}</h1>
    <div class="menu-button" onclick="toggleMenu()">â˜°</div>
    <nav id="top-menu">
      <a href="{{ '/' | relative_url }}">Home</a>
      <a href="{{ '/schedule/' | relative_url }}">Schedule</a>
      <a href="{{ '/contact/' | relative_url }}">Contact</a>
      <a href="{{ '/gallery/' | relative_url }}">Gallery</a>
    </nav>
  </header>

  <main class="container">
    {{ content }}
  </main>
  <footer class="page-footer">
    <p><strong>Contact Me:</strong>
    <p><strong>Email:</strong> <a href="mailto:mark@spookydungeon.boo">mark@spookydungeon.boo</a>
    <strong>Phone:</strong> <a href="tel:13606447050">(360) 644-7050</a></p>
  </footer>
</body>

<script>
document.addEventListener("DOMContentLoaded", function() {
  const images = document.querySelectorAll(".gallery-item img");
  const lightbox = document.getElementById("lightbox");
  const lightboxImg = document.getElementById("lightbox-img");
  const closeBtn = document.querySelector(".lightbox .close");
  const prevBtn = document.querySelector(".lightbox .prev");
  const nextBtn = document.querySelector(".lightbox .next");

  let currentIndex = 0;

  function showImage(index) {
    if (index < 0) index = images.length - 1;
    if (index >= images.length) index = 0;
    currentIndex = index;
    lightboxImg.src = images[currentIndex].dataset.full || images[currentIndex].src;
  }

  images.forEach((img, index) => {
    img.addEventListener("click", () => {
      lightbox.style.display = "flex";
      showImage(index);
    });
  });

  closeBtn.addEventListener("click", () => {
    lightbox.style.display = "none";
  });

  prevBtn.addEventListener("click", () => {
    showImage(currentIndex - 1);
  });

  nextBtn.addEventListener("click", () => {
    showImage(currentIndex + 1);
  });

  lightbox.addEventListener("click", (e) => {
    if (e.target === lightbox) {
      lightbox.style.display = "none";
    }
  });

  document.addEventListener("keydown", (e) => {
    if (lightbox.style.display === "flex") {
      if (e.key === "ArrowLeft") showImage(currentIndex - 1);
      if (e.key === "ArrowRight") showImage(currentIndex + 1);
      if (e.key === "Escape") lightbox.style.display = "none";
    }
  });
});
</script>



</html>
